{% extends "base.html" %}

{% block content %}

<h1>{{ lesson.title }}</h1>
    <p>{{ lesson.description }}</p>

    {% if lesson.id not in current_user.progress %}
        <form action="{{ url_for('complete_lesson', lesson_id=lesson.id) }}" method="POST">
            <button type="submit">Complete Lesson</button>
        </form>
    {% else %}
        <p>You have already completed this lesson.</p>
    {% endif %}
    
    <br><br>
    <a href="{{ url_for('course_list') }}">Back to Courses</a>


{% endblock %}
<!-- 
@app.route('/lesson/<int:course_id>/<int:lesson_id>', methods=['GET'])
def start_lesson(course_id, lesson_id):
    # Retrieve course and lesson data
    course = courses.get(course_id)
    lesson = next((lesson for lesson in course['lessons'] if lesson['id'] == lesson_id), None)
    
    if lesson:
        return render_template('lesson.html', course=course, lesson=lesson)
    else:
        return 'Lesson not found', 404 -->
